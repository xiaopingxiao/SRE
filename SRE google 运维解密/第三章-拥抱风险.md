过分追求稳定性限制了新功能的开发速度和将产品交付给用户的速度，并且很大程度上增加了用户的成本，这反过来又减少了一个团队可以提供新功能的数量，此外，用户通常不会注意到一项服务在高可靠性和极端可靠性之间的差异，
简单来说，用户在一个有着99%可靠性的智能手机是分辨不出99.99和99.999%的服务可靠性的区别的。
sre旨在寻求快速创新和高效的服务运营业务之间的风险的平衡，而不是简单的将服务在线时间最大化。

## 管理风险
在构建系统的过程中，可靠性进一步提升的成本并不是线性增加的，可靠性的下一步改进可能比之前的改进成本增加100倍，高昂的改造成本只要存在以下两个维度，
### 冗余物理服务器，计算资源成本
通过投入冗余的设备，可以进行系统离线或其他预料之外的维护性操作，保存一些持久化的数据
### 机会成本
当该组织分配资源来构建减少风险的系统或功能，而非用户直接使用的功能时，需要承担的成本，这些工程师将不能从事为用户设计新功能的产品。
我们把可用性目标同时看做风险的上限和下限。
### 度量服务风险
对于大多数服务而言，最直接代表风险承受能力就是对于计划外停机时间的可接受水平，计划外停机时间是由服务预期的可用性水平所体现的，
通常我们用9来表示，99.9%，99.99%来表示系统的可用性。

可用性评估的两种方式：
1. 基于时间的可用性：可用性 = 系统正常运行时间 / （系统正常运行时间 + 停机时间）
2. 合计可用性：可用性 = 成功请求数 / 总的请求数
Google 内部是使用第二项，合计可用性。
举例来说，一个可用性目标为99.99%的系统最多在一年中停机52.56分钟，就可以达到预计的可用性目标，然而，在内部基于时间的可用性通常是毫无意义的，因为我们需要着眼于全球范围内的分部署服务，通常使用合计可用性计算。
例如一个每天可用性目标为99.99%的系统，一天要接受2.5M个请求，他每天出现少于250个错误即可达到预计的可用性目标。
### 服务风险容忍度
本文以消费者服务、基础设施服务两个角度，从可用性目标、故障的类型、成本等维度分析风险情况。
## 辨别消费者服务的风险容忍度
### 可用性目标
### 故障的类型
### 成本
## 使用错误预算的目的
错误预算就是一个双方同意的客观指标，平衡了可用性以及风险，让决策基于数据成为可能。

## 错误预算的构建过程
产品管理层定义一个 SLO，确定一项服务在每个季度预计的正常运行时间。
实际在线时间是通过一个中立第三方来测算的：我们的监控系统。
这两个数字的差值就是这个季度中剩余的不可靠性预算。
只要测算出的正常在线时间高于 SLO，也就是说，只要仍然有剩余的错误预算，就可以发布新的版本。
### 好处
错误预算的主要好处就是它能够激励产品研发和 SRE 一起找出创新和可靠性之间合理的平衡点。

1. 管理服务的可靠性主要在于管理风险，而且管理风险的成本可能很高。
2. 100% 可能永远都不是一个正确的可靠性目标：不仅是不可能实现的，而且它通常比一项服务的用户期望的可靠性大得多。我们要将服务风险和意愿承担的业务风险相匹配。
3. 错误预算在 SRE 和产品研发团队之间调整激励，同时强调共同责任。错误预算试的讨论发布速率更容易，同时可有效地减少任何关于事故的讨论。这样，多个团队可以毫无怨言地对生产环境风险度达成一致。
